---

title: JVM针对不同年龄段的 对象的分配策略
author: John Doe
tags:
  - JVM
  - 堆
  - 对象内存分配
categories:
  - JVM
date: 2022-03-15 11:25:00
---



- 优先分配到eden区

- 对于大对象会直接分配到老年代（eden区young gc后还是无法分配足够内存给大对象，大对象会直接跃升到老年代或者在young gc后，幸存者区放不下跃升到幸存者区的大对象，也会直接跃升到老年代，如果老年代也不够分配，则进行major gc，如果仍然不够，则oom）

- 长期存活的对象分配到老年代（根据分代年龄晋升，默认15，每经历一次yonug gc存活下来，分代年龄+1）

- 动态对象年龄判断：如果幸存者区中相同年龄的所有对象大小的总和大于幸存者区空间的一半，年龄大于或等于该年龄的对象可以直接进入老年代，无需达到分代年龄要求